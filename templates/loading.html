<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="refresh" content="0.5; url=/today">
    <title>Loading...</title>
    <script>
      // Retrieve local time from the browser
      var localTime = Math.floor(Date.now() / 1000);
  
      // Send the local time to the Flask app using a POST request
      fetch('/today', {
          method: 'POST',
          body: new URLSearchParams({
              'local_time': localTime
          }),
          redirect: "follow",
          mode: "cors"
      })
      .then(response => {
          // Handle the response from the Flask app
          if (response.ok) {
              console.log('Local time sent successfully.');
          } else {
              console.error('Failed to send local time.');
          }
      })
      .catch(error => {
          console.error('An error occurred while sending local time:', error);
      });
    </script>
</head>
<body>
    <h1>Loading...</h1>
</body>
</html>
